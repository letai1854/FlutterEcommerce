2025-05-04 18:30:04.562 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 17.0.12 with PID 14916 (started by Minh in E:\Flutter\Ecommerce\FlutterEcommerce\Server)
2025-05-04 18:30:04.565 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - The following 1 profile is active: "dev"
2025-05-04 18:30:06.649 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:30:06.867 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 3 JPA repository interfaces.
2025-05-04 18:30:08.107 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-04 18:30:08.569 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@486e9d1d
2025-05-04 18:30:08.574 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-04 18:30:08.656 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:30:08.801 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-05-04 18:30:08.909 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-04 18:30:09.659 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-04 18:30:09.852 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04 18:30:13.199 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-04 18:30:13.207 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:30:13.249 [main] INFO  d.c.e.t.u.security.JwtTokenProvider - Successfully decoded JWT secret from Base64.
2025-05-04 18:30:13.253 [main] INFO  d.c.e.t.u.security.JwtTokenProvider - JWT Secret Key initialized successfully.
2025-05-04 18:30:13.915 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-04 18:30:14.948 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04 18:30:15.496 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:30:16.256 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45a0ba61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a69c81e, org.springframework.security.web.context.SecurityContextHolderFilter@4b6c5fa2, org.springframework.security.web.header.HeaderWriterFilter@5d59ad49, org.springframework.web.filter.CorsFilter@5b2ac349, org.springframework.security.web.authentication.logout.LogoutFilter@188ccb6c, demo.com.example.testserver.user.security.JwtAuthenticationFilter@751636da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@407339e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c18cf67, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@754acbad, org.springframework.security.web.session.SessionManagementFilter@13473685, org.springframework.security.web.access.ExceptionTranslationFilter@1eaf95d2, org.springframework.security.web.access.intercept.AuthorizationFilter@6c927487]
2025-05-04 18:30:16.873 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-04 18:30:16.873 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-04 18:30:16.878 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 5 ms
2025-05-04 18:30:16.947 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 13.286 seconds (process running for 15.989)
2025-05-04 18:30:18.581 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:18.975 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:19.065 [main] WARN  d.c.e.t.u.controller.UserController - Password reset requested for non-existent or inactive email: nonexistent@example.com
2025-05-04 18:30:19.225 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:19.452 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:19.736 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:20.003 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [test@example.com]: Bad credentials
2025-05-04 18:30:20.164 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:20.446 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:20.620 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:20.671 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:20.893 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [68], Email [test@example.com]
2025-05-04 18:30:20.940 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:21.301 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:21.333 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:21.447 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:21.462 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:21.538 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:21.740 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:21.750 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:21.958 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:21.960 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:21.984 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:22.009 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'fullName': rejected value [null]; codes [NotBlank.registrationRequest.fullName,NotBlank.fullName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.fullName,fullName]; arguments []; default message [fullName]]; default message [Full name is required]] ]
2025-05-04 18:30:22.033 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:22.039 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.222 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [nonexistent@example.com]: Bad credentials
2025-05-04 18:30:22.241 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:22.248 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.431 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:22.437 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:22.439 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [70], Email [test@example.com]
2025-05-04 18:30:22.444 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.662 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:22.668 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'password': rejected value [12345]; codes [Size.registrationRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.password,password]; arguments []; default message [password],2147483647,6]; default message [Password must be at least 6 characters long]] ]
2025-05-04 18:30:22.680 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:22.690 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.826 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:22.833 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:22.836 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [71], Email [test@example.com]
2025-05-04 18:30:22.841 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.966 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:22.968 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:22.980 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:22.985 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:23.132 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:23.138 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:23.289 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:23.310 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:23.314 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [72], Email [test@example.com]
2025-05-04 18:30:23.321 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:23.658 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:23.707 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:23.721 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:23.810 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:23.961 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:24.036 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:24.104 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:24.122 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:24.128 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:24.321 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:24.340 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:24.342 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [73], Email [test@example.com]
2025-05-04 18:30:24.351 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:24.550 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:24.577 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:24.593 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:24.615 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:25.211 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:25.226 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:25.440 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:25.441 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:25.472 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:25.475 [main] INFO  d.c.e.t.u.controller.UserController - Received ping request
2025-05-04 18:30:25.498 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:25.711 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:25.752 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.user_id=?
2025-05-04 18:30:25.758 [main] DEBUG org.hibernate.SQL - insert into password_reset_tokens (expiry_date,token_hash,user_id) values (?,?,?)
2025-05-04 18:30:25.761 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Created password reset token for user: test@example.com
2025-05-04 18:30:25.767 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:25.989 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:26.006 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Invalidated password reset token for user: test@example.com
2025-05-04 18:30:26.006 [main] INFO  d.c.e.t.u.controller.UserController - Password reset successful for user: test@example.com
2025-05-04 18:30:26.010 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:26.022 [main] DEBUG org.hibernate.SQL - delete from password_reset_tokens where id=?
2025-05-04 18:30:26.027 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:26.277 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:26.291 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: 8465f2b7-58c7-424b-9b2c-9b286fcfe8df
2025-05-04 18:30:26.368 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.375 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'password': rejected value [null]; codes [NotBlank.registrationRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.password,password]; arguments []; default message [password]]; default message [Password is required]] ]
2025-05-04 18:30:26.392 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.403 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:26.409 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: expired-or-invalid-token
2025-05-04 18:30:26.409 [main] WARN  d.c.e.t.u.controller.UserController - Attempting password reset with invalid or expired token: expired-or-invalid-token
2025-05-04 18:30:26.424 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.431 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'email': rejected value [invalid-email]; codes [Email.registrationRequest.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@6766260e,.*]; default message [Email should be valid]] ]
2025-05-04 18:30:26.448 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.455 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:26.456 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: invalid-token-123
2025-05-04 18:30:26.457 [main] WARN  d.c.e.t.u.controller.UserController - Attempting password reset with invalid or expired token: invalid-token-123
2025-05-04 18:30:26.475 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.669 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:26.717 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:26.730 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.user_id=?
2025-05-04 18:30:26.734 [main] DEBUG org.hibernate.SQL - insert into password_reset_tokens (expiry_date,token_hash,user_id) values (?,?,?)
2025-05-04 18:30:26.741 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Created password reset token for user: test@example.com
2025-05-04 18:30:26.741 [main] WARN  d.c.e.t.u.controller.UserController - EmailService not configured. Password reset requested for: test@example.com. Plain Token (for testing): 2e1a0665-2a38-4ff9-b94f-63cc0468ae51
2025-05-04 18:30:26.765 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:26.950 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:26.962 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:26.966 [main] WARN  d.c.e.t.u.controller.UserController - Registration attempt failed: Email [test@example.com] already exists.
2025-05-04 18:30:26.979 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:27.139 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:27.149 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:27.403 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [test@example.com]: Bad credentials
2025-05-04 18:30:27.421 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:27.428 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'address': rejected value [null]; codes [NotBlank.registrationRequest.address,NotBlank.address,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.address,address]; arguments []; default message [address]]; default message [Address is required]] ]
2025-05-04 18:30:27.482 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:30:27.484 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-04 18:30:27.532 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-04 18:30:27.647 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 17.0.12 with PID 111968 (started by Minh in E:\Flutter\Ecommerce\FlutterEcommerce\Server)
2025-05-04 18:30:27.652 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - The following 1 profile is active: "dev"
2025-05-04 18:30:29.711 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:30:29.900 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 169 ms. Found 3 JPA repository interfaces.
2025-05-04 18:30:31.161 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-04 18:30:31.504 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ef18604
2025-05-04 18:30:31.509 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-04 18:30:31.611 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:30:31.771 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-05-04 18:30:31.841 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-04 18:30:32.583 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-04 18:30:32.716 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04 18:30:34.800 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-04 18:30:34.807 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:30:34.840 [main] INFO  d.c.e.t.u.security.JwtTokenProvider - Successfully decoded JWT secret from Base64.
2025-05-04 18:30:34.844 [main] INFO  d.c.e.t.u.security.JwtTokenProvider - JWT Secret Key initialized successfully.
2025-05-04 18:30:35.803 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-04 18:30:37.027 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04 18:30:37.694 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:30:38.800 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b760eb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ddd0e97, org.springframework.security.web.context.SecurityContextHolderFilter@3514ea20, org.springframework.security.web.header.HeaderWriterFilter@3dcc59f5, org.springframework.web.filter.CorsFilter@42d8b670, org.springframework.security.web.authentication.logout.LogoutFilter@51ea9f02, demo.com.example.testserver.user.security.JwtAuthenticationFilter@6285027a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5683a326, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@662754bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f15639c, org.springframework.security.web.session.SessionManagementFilter@2ba7828b, org.springframework.security.web.access.ExceptionTranslationFilter@207bf6d8, org.springframework.security.web.access.intercept.AuthorizationFilter@fcd300e]
2025-05-04 18:30:39.436 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-04 18:30:39.437 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-04 18:30:39.439 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-04 18:30:39.504 [main] INFO  d.c.e.t.u.c.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 12.552 seconds (process running for 15.215)
2025-05-04 18:30:40.448 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:40.664 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:40.670 [main] WARN  d.c.e.t.u.controller.UserController - Password reset requested for non-existent or inactive email: nonexistent@example.com
2025-05-04 18:30:40.737 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:40.994 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:41.174 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:41.314 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [test@example.com]: Bad credentials
2025-05-04 18:30:41.349 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:41.512 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:41.658 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:41.663 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:41.667 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [79], Email [test@example.com]
2025-05-04 18:30:41.705 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:41.878 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:41.880 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:41.963 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:41.967 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:42.001 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.131 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:42.140 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:42.264 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:42.266 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:42.284 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.305 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'fullName': rejected value [null]; codes [NotBlank.registrationRequest.fullName,NotBlank.fullName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.fullName,fullName]; arguments []; default message [fullName]]; default message [Full name is required]] ]
2025-05-04 18:30:42.315 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.322 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:42.463 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [nonexistent@example.com]: Bad credentials
2025-05-04 18:30:42.480 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.484 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:42.627 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:42.631 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:42.632 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [81], Email [test@example.com]
2025-05-04 18:30:42.638 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:42.794 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.798 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'password': rejected value [12345]; codes [Size.registrationRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.password,password]; arguments []; default message [password],2147483647,6]; default message [Password must be at least 6 characters long]] ]
2025-05-04 18:30:42.808 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:42.814 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:42.977 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:42.981 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:42.983 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [82], Email [test@example.com]
2025-05-04 18:30:42.990 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.135 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:43.144 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:43.157 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.174 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:43.359 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:43.368 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.516 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:43.521 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:43.524 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [83], Email [test@example.com]
2025-05-04 18:30:43.529 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.660 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:43.661 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:43.668 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.717 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:43.735 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:43.747 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.767 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:43.789 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:43.796 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:43.999 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:44.005 [main] DEBUG org.hibernate.SQL - insert into danh_sach_dia_chi (ngay_tao,la_mac_dinh,so_dien_thoai,ho_ten_nguoi_nhan,dia_chi_cu_the,ngay_cap_nhat,nguoi_dung_id) values (?,?,?,?,?,?,?)
2025-05-04 18:30:44.008 [main] INFO  d.c.e.t.u.controller.UserController - User registered successfully: ID [84], Email [test@example.com]
2025-05-04 18:30:44.015 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:44.182 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:44.184 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:44.201 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:44.208 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:44.516 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:44.518 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:44.652 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:44.656 [main] INFO  d.c.e.t.u.controller.UserController - User [test@example.com] logged in successfully.
2025-05-04 18:30:44.671 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:44.675 [main] INFO  d.c.e.t.u.controller.UserController - Received ping request
2025-05-04 18:30:44.684 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:44.817 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:44.833 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.user_id=?
2025-05-04 18:30:44.836 [main] DEBUG org.hibernate.SQL - insert into password_reset_tokens (expiry_date,token_hash,user_id) values (?,?,?)
2025-05-04 18:30:44.840 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Created password reset token for user: test@example.com
2025-05-04 18:30:44.845 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:44.994 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:45.006 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Invalidated password reset token for user: test@example.com
2025-05-04 18:30:45.007 [main] INFO  d.c.e.t.u.controller.UserController - Password reset successful for user: test@example.com
2025-05-04 18:30:45.010 [main] DEBUG org.hibernate.SQL - update nguoi_dung set avatar_url=?,diem_khach_hang_than_thiet=?,email=?,ho_ten=?,mat_khau=?,password_reset_token=?,password_reset_token_expiry=?,vai_tro=?,trang_thai=?,ngay_cap_nhat=? where id=?
2025-05-04 18:30:45.014 [main] DEBUG org.hibernate.SQL - delete from password_reset_tokens where id=?
2025-05-04 18:30:45.018 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:45.264 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:45.266 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: 982781a8-b94b-4618-8257-95e4c4044585
2025-05-04 18:30:45.282 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.285 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'password': rejected value [null]; codes [NotBlank.registrationRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.password,password]; arguments []; default message [password]]; default message [Password is required]] ]
2025-05-04 18:30:45.299 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.305 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:45.307 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: expired-or-invalid-token
2025-05-04 18:30:45.307 [main] WARN  d.c.e.t.u.controller.UserController - Attempting password reset with invalid or expired token: expired-or-invalid-token
2025-05-04 18:30:45.318 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.325 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'email': rejected value [invalid-email]; codes [Email.registrationRequest.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@25171df2,.*]; default message [Email should be valid]] ]
2025-05-04 18:30:45.335 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.344 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.token_hash=?
2025-05-04 18:30:45.346 [main] WARN  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Password reset token not found or invalid: invalid-token-123
2025-05-04 18:30:45.346 [main] WARN  d.c.e.t.u.controller.UserController - Attempting password reset with invalid or expired token: invalid-token-123
2025-05-04 18:30:45.358 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.543 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:45.550 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=? and u1_0.trang_thai='kich_hoat'
2025-05-04 18:30:45.557 [main] DEBUG org.hibernate.SQL - select prt1_0.id,prt1_0.expiry_date,prt1_0.token_hash,prt1_0.user_id from password_reset_tokens prt1_0 where prt1_0.user_id=?
2025-05-04 18:30:45.560 [main] DEBUG org.hibernate.SQL - insert into password_reset_tokens (expiry_date,token_hash,user_id) values (?,?,?)
2025-05-04 18:30:45.562 [main] INFO  d.c.e.t.u.s.i.PasswordResetTokenServiceImpl - Created password reset token for user: test@example.com
2025-05-04 18:30:45.562 [main] WARN  d.c.e.t.u.controller.UserController - EmailService not configured. Password reset requested for: test@example.com. Plain Token (for testing): ba32d380-2bf6-409b-957c-2a9f8b44ac77
2025-05-04 18:30:45.580 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.731 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:45.739 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:45.742 [main] WARN  d.c.e.t.u.controller.UserController - Registration attempt failed: Email [test@example.com] already exists.
2025-05-04 18:30:45.757 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:45.885 [main] DEBUG org.hibernate.SQL - insert into nguoi_dung (avatar_url,ngay_tao,diem_khach_hang_than_thiet,email,ho_ten,mat_khau,password_reset_token,password_reset_token_expiry,vai_tro,trang_thai,ngay_cap_nhat) values (?,?,?,?,?,?,?,?,?,?,?)
2025-05-04 18:30:45.897 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0 where u1_0.email=?
2025-05-04 18:30:46.019 [main] WARN  d.c.e.t.u.controller.UserController - Login failed for email [test@example.com]: Bad credentials
2025-05-04 18:30:46.052 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.avatar_url,u1_0.ngay_tao,u1_0.diem_khach_hang_than_thiet,u1_0.email,u1_0.ho_ten,u1_0.mat_khau,u1_0.password_reset_token,u1_0.password_reset_token_expiry,u1_0.vai_tro,u1_0.trang_thai,u1_0.ngay_cap_nhat from nguoi_dung u1_0
2025-05-04 18:30:46.058 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> demo.com.example.testserver.user.controller.UserController.createUser(demo.com.example.testserver.user.dto.RegistrationRequest): [Field error in object 'registrationRequest' on field 'address': rejected value [null]; codes [NotBlank.registrationRequest.address,NotBlank.address,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registrationRequest.address,address]; arguments []; default message [address]]; default message [Address is required]] ]
2025-05-04 18:30:46.162 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:30:46.165 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-04 18:30:46.180 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.

